<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Hello, world!</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Serif+Display:wght@700&display=swap"
      rel="stylesheet"
    />

    <!-- Bulma CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bulma@0.9.1/css/bulma.min.css"
    />
    <!-- JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.js"></script>

    <style>
      * {
        font-family: "Noto Serif Display", serif;
      }

      body {
        background-color: RGBA(232, 52, 78, 0.2);
        min-height: 100vh;
      }

      .section {
        padding: 1rem 1.5rem;
        max-width: 750px;
        margin: auto;
      }

      .title {
        font-weight: 800;
        font-size: 5rem;
      }

      .subtitle {
        font-size: 2rem;
      }

      .is-sparta {
        color: #e8344e !important;
      }

      .button.is-sparta {
        background-color: #e8344e;
        border-color: transparent;
        color: #fff !important;
      }

      .button.is-sparta.is-outlined {
        background-color: transparent;
        border-color: #e8344e;
        color: #e8344e !important;
      }

      .help {
        color: gray;
      }
    </style>

    <script>
      // Pada fungsi ini, kita menggunakan id user,
      // password, dan nickname, untuk mendaftarkan mereka
      // ke database kita
      function register() {
        $.ajax({
          type: "POST",
          url: "/api/register",
          data: {
            id_give: $("#userid").val(),
            pw_give: $("#userpw").val(),
            nickname_give: $("#usernick").val(),
          },
          success: function (response) {
            if (response["result"] === "success") {
              alert("User registration complete!");
              window.location.href = "/login";
            } else {
              alert(response["msg"]);
            }
          },
        });
      }
    </script>
  </head>
  <body>
    <body>
      <section class="section">
        <div class="container">
          <div class="box" style="max-width: 480px; margin: auto">
            <article class="media">
              <div class="media-content">
                <div class="content">
                  <div class="field has-addons">
                    <div class="control has-icons-left" style="width: 100%">
                      <input
                        id="input-username"
                        class="input"
                        type="text"
                        placeholder="id"
                      />
                      <span class="icon is-small is-left"
                        ><i class="fa fa-user"></i
                      ></span>
                    </div>
                    <div id="btn-check-dup" class="control">
                      <button class="button is-sparta" onclick="check_dup()">
                        Check your id
                      </button>
                    </div>
                  </div>
                  <p id="help-id" class="help">
                    For your id, please enter 2-10 English characters, numbers, or
                    the following special characters (._-)
                  </p>
                  <p id="help-id-login" class="help is-danger"></p>
    
                  <div class="field">
                    <div class="control has-icons-left">
                      <input
                        id="input-password"
                        class="input"
                        type="password"
                        placeholder="password"
                      />
                      <span class="icon is-small is-left"
                        ><i class="fa fa-lock"></i
                      ></span>
                    </div>
                    <p id="help-password" class="help">
                      For your password, please enter 8-20 English characters,
                      numbers, or the following special characters (!@#$%^&*)
                    </p>
                  </div>
                </div>
              </article>
              <!-- Integrated Sign Up Box -->
              <div id="sign-up-box">
                <div class="mb-5">
                  <div class="field">
                    <div class="control has-icons-left" style="width: 100%">
                      <input
                        id="input-password2"
                        class="input"
                        type="password"
                        placeholder="Confirm your password"
                      />
                      <span class="icon is-small is-left"
                        ><i class="fa fa-lock"></i
                      ></span>
                    </div>
                    <p id="help-password2" class="help">
                      Please enter your password again
                    </p>
                  </div>
                </div>
                <nav class="level is-mobile">
                  <button class="level-item button is-sparta" onclick="sign_up()">
                    Sign Up
                  </button>
                  <button
                    class="level-item button is-sparta is-outlined"
                    onclick="toggle_sign_up()"
                  >
                    Cancel
                  </button>
                </nav>
              </div>
            </div>
          </div>
        </div>
      </section>
    </body>
  </body>
</html>
